{"version":3,"sources":["../../src/controllers/auth.js"],"names":["login","req","res","username","password","returnData","length","token","jwt","sign","userID","id","expiresIn","json","error","message"],"mappings":";;;;;;;AAAA;;;;AACA;;;;;;AACO,IAAMA,wBAAQ,SAARA,KAAQ,CAACC,GAAD,EAAKC,GAAL,EAAa;AAC9B,4BAAG,+DAAH,EAAmE,CAAED,IAAIE,QAAN,EAAgBF,IAAIG,QAApB,CAAnE,EAAkG,UAACC,UAAD,EAAgB;AAC9G,YAAGA,WAAWC,MAAX,GAAoB,CAAvB,EAA0B;AACtB,gBAAMC,QAAQC,uBAAIC,IAAJ,CAAS,EAAEC,QAAQL,WAAW,CAAX,EAAcM,EAAxB,EAAT,EAAsC,QAAtC,EAA+C,EAAEC,WAAW,KAAb,EAA/C,CAAd;AACAV,gBAAIW,IAAJ,CAAS;AACLC,uBAAO,KADF;AAELC,yBAAS,SAFJ;AAGLR,uBAAOA;AAHF,aAAT;AAKH,SAPD,MAOO;AACHL,gBAAIW,IAAJ,CAAS;AACLC,uBAAO,IADF;AAELC,yBAAS;AAFJ,aAAT;AAIH;AACJ,KAdD;;AAkBD;AACC;AACH,CArBM","file":"auth.js","sourcesContent":["import jwt from 'jsonwebtoken';\nimport db from '../utils/database';\nexport const login = (req,res) => {\n    db('SELECT * FROM `users` WHERE `username` = ? and `password` = ?',[ req.username, req.password ],(returnData) => {\n        if(returnData.length > 0) {\n            const token = jwt.sign({ userID: returnData[0].id },'123456',{ expiresIn: '24h' });\n            res.json({\n                error: false,\n                message: 'success',\n                token: token\n            });\n        } else {\n            res.json({\n                error: true,\n                message: 'Error: Username Or Password Incorrect!'\n            });\n        }\n    });\n    \n        \n       \n   // const token = jwt.sign({ foo: 'bar' },'123456',{ expiresIn: '1h' });\n    //res.send(token);\n}"]}