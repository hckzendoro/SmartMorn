{"version":3,"file":"5.7c79ccd4c19c266028cc.hot-update.js","sources":["webpack:///redux/reducers/auth.js"],"sourcesContent":["import _ from 'lodash';\nimport axios from '../../utils/api';\n\nimport { defineAction } from 'redux-define';\n\nconst ACTION_AUTH = defineAction('AUTH', ['LOGIN','PENDING', 'RESOLVED', 'REJECTED'], 'SMARTMORN');\nconsole.log(ACTION_AUTH);\nconst initialState = {\n    isLogin: false,\n    loading: false\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case ACTION_AUTH.LOGIN: \n            return {\n                ...state,\n                isLogin: !state.isLogin,\n            };\n        case ACTION_AUTH.PENDING: \n            return {\n                ...state,\n                loading: !state.loading\n            }\n        default: return state;\n    }\n};\n\nexport const actions = {\n    Login: (username, password) => (dispatch)  => {\n        dispatch({\n            type: ACTION_AUTH.PENDING\n        })\n        console.log('okss')\n        axios().post('/users/login',{\n            username: username,\n            password: password\n        }).then((resp) => {\n            if(!resp.data.error) \n                return dispatch({ \n                    type: ACTION_AUTH.RESOLVED\n                });\n        }).catch((error) => {\n            console.log(error)\n        })\n        return dispatch({ \n            type: ACTION_AUTH.REJECTED\n        });\n    },\n};\n\n// Debug \n// export const login = (username,password) => (dispatch) => {\n//     const data = dispatch({\n//         type: 'Login',\n//         payload: {\n//             username: username,\n//             password: password\n//         }\n//     });\n//     console.log(data);\n// }\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// redux/reducers/auth.js"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AAAA;AAXA;AAaA;AAEA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AADA;AAGA;AACA;AACA;AACA;AACA;AADA;AAGA;AAnBA;AADA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}