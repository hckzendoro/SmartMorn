{"version":3,"sources":["../src/server.js"],"names":["require","EventEmitter","defaultMaxListeners","app","use","HeadeMiddleware","req","res","next","header","bodyParser","json","urlencoded","extended","resave","saveUninitialized","secret","process","env","SESSION_SECRET","cookie","maxAge","express","static","routes","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEAA,QAAQ,QAAR,EAAkBC,YAAlB,CAA+BC,mBAA/B,GAAqD,CAArD;;AAEA,IAAMC,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,oBAAK;AACZ,WAAU,yBADE;AAEZ,YAAW,gCAFC;AAGZ,sBAAqB,KAHT;AAIZ,mBAAkB,CAAC,kBAAD,EAAoB,gBAApB,EAAqC,cAArC,CAJN;AAKZ,gBAAe,IALH;AAMZ,WAAU;AANE,CAAL,CAAR;AAQA,IAAMC,kBAAkB,SAAlBA,eAAkB,CAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAkB;AACzCD,KAAIE,MAAJ,CAAW,iBAAX,EAA8B,MAA9B;AACAD;AACA,CAHD;AAIAL,IAAIC,GAAJ,CAAQC,eAAR;AACAF,IAAIC,GAAJ,CAAQ,4BAAR;AACAD,IAAIC,GAAJ,CAAQM,qBAAWC,IAAX,EAAR;AACAR,IAAIC,GAAJ,CAAQM,qBAAWE,UAAX,CAAuB,EAAEC,UAAU,IAAZ,EAAvB,CAAR;;AAEAV,IAAIC,GAAJ,CAAQ,6BAAR;AACAD,IAAIC,GAAJ,CAAQ,8BAAQ;AACbU,SAAQ,IADK;AAEbC,oBAAmB,IAFN;AAGbC,SAAQC,QAAQC,GAAR,CAAYC,cAAZ,IAA8B,gBAHzB;AAIbC,SAAQ,EAAEC,QAAQ,KAAV;AAJK,CAAR,CAAR;;AAQAlB,IAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACAD,IAAIC,GAAJ,CAAQkB,kBAAQC,MAAR,CAAe,QAAf,CAAR;;AAEApB,IAAIC,GAAJ,CAAQ,GAAR,EAAaoB,gBAAb;;AAEArB,IAAIsB,MAAJ,CAAW,IAAX,EAAgB,YAAM;AACrBC,SAAQC,GAAR,CAAY,uBAAZ;AACA,CAFD;;AAIA,sBAAaxB,GAAb","file":"server.js","sourcesContent":["import express from 'express';\nimport compression from 'compression';\nimport bodyParser from 'body-parser';\nimport morgan from 'morgan';\nimport cookieParser from 'cookie-parser';\nimport session from 'express-session';\nimport sockerServer from './controllers/socket.IO';\nimport routes from './routes';\nimport cors from 'cors';\n\nrequire('events').EventEmitter.defaultMaxListeners = 0;\n\nconst app = express();\n\napp.use(cors({\n\t'origin': 'http://172.20.10.6:3000',\n\t'methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\n\t'preflightContinue': false,\n\t'allowedHeaders': ['X-Requested-With','x-access-token','Content-Type'],\n\t'credentials': true,\n\t'maxAge': 5\n}));\nconst HeadeMiddleware = (req,res,next) => {\n\tres.header(\"X-Frame-Options\", \"deny\");\n\tnext()\n}\napp.use(HeadeMiddleware);\napp.use(compression());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded( { extended: true }));\n\napp.use(cookieParser());\napp.use(session({\n  \tresave: true,\n  \tsaveUninitialized: true,\n  \tsecret: process.env.SESSION_SECRET || 'SESSION_SECRET',\n  \tcookie: { maxAge: 60000 }\n}));\n\n\napp.use(morgan('dev'));\napp.use(express.static('public'));\n\napp.use('/', routes);\n\napp.listen(8081,() => {\n\tconsole.log('listen on port : 8081')\n});\n\nsockerServer(app);\n\n"]}